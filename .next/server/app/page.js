(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>a}),r(5480),r(3817),r(5866);var s=r(3191),n=r(8716),i=r(7922),o=r.n(i),d=r(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let a=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"D:\\GSB_Supabase\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,3817)),"D:\\GSB_Supabase\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\GSB_Supabase\\src\\app\\page.tsx"],u="/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:a}})},876:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8707:(e,t,r)=>{Promise.resolve().then(r.bind(r,8569))},9807:(e,t,r)=>{Promise.resolve().then(r.bind(r,4001))},8569:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(326),n=r(7577),i=r(2573),o=r(4001);function d({onCreated:e}){let t=(0,i.A)(),{user:r}=(0,o.a)(),[d,l]=(0,n.useState)(""),[a,c]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),[x,g]=(0,n.useState)(null),[m,h]=(0,n.useState)(!1);async function b(s){if(s.preventDefault(),g(null),h(!0),!r){g("Please sign in first."),h(!1);return}try{console.log("user",r);let{data:s,error:n}=await t.from("businesses").insert({name:d,category:a,city:u||null,owner:r.id}).select("*").single();n?g(n.message):(e(s),l(""),c(""),p(""),g("Business created successfully!"),setTimeout(()=>g(null),3e3))}catch(e){g("An unexpected error occurred")}finally{h(!1)}}return r?(0,s.jsxs)("div",{style:{margin:"2rem 0",padding:"1.5rem",backgroundColor:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:"1px solid #ddd"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#333"},children:"Add New Business"}),(0,s.jsxs)("form",{onSubmit:b,style:{display:"grid",gap:"1rem",maxWidth:"500px"},children:[(0,s.jsxs)("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Business Name *"}),s.jsx("input",{placeholder:"Enter business name",value:d,onChange:e=>l(e.target.value),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"Category *"}),s.jsx("input",{placeholder:"e.g., Restaurant, Retail, Services",value:a,onChange:e=>c(e.target.value),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:"#333"},children:"City"}),s.jsx("input",{placeholder:"Enter city (optional)",value:u,onChange:e=>p(e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"1rem"}})]}),s.jsx("button",{type:"submit",disabled:m,style:{padding:"0.75rem 1.5rem",backgroundColor:m?"#6c757d":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:m?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500",transition:"background-color 0.2s"},children:m?"Creating...":"Add Business"}),x&&s.jsx("p",{style:{color:x.includes("successfully")?"#28a745":"#dc3545",margin:"0.5rem 0 0 0",padding:"0.5rem",backgroundColor:x.includes("successfully")?"#d4edda":"#f8d7da",border:`1px solid ${x.includes("successfully")?"#c3e6cb":"#f5c6cb"}`,borderRadius:"4px"},children:x})]})]}):s.jsx("div",{style:{padding:"1rem",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",color:"#856404"},children:"Please sign in to add a business."})}function l({onAuthSuccess:e}){let t=(0,i.A)(),[r,o]=(0,n.useState)(!0),[d,l]=(0,n.useState)(""),[a,c]=(0,n.useState)(""),[u,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),m=async s=>{s.preventDefault(),p(!0),g(null);try{if(r){let{error:r}=await t.auth.signInWithPassword({email:d,password:a});r?g(r.message):e()}else{let{error:e}=await t.auth.signUp({email:d,password:a});e?g(e.message):g("Check your email for the confirmation link!")}}catch(e){g("An unexpected error occurred")}finally{p(!1)}};return(0,s.jsxs)("div",{style:{maxWidth:"400px",margin:"2rem auto",padding:"2rem",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[s.jsx("h2",{children:r?"Sign In":"Sign Up"}),(0,s.jsxs)("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[s.jsx("input",{type:"email",placeholder:"Email",value:d,onChange:e=>l(e.target.value),required:!0,style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"}}),s.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:e=>c(e.target.value),required:!0,style:{padding:"0.5rem",border:"1px solid #ccc",borderRadius:"4px"}}),s.jsx("button",{type:"submit",disabled:u,style:{padding:"0.75rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:u?"not-allowed":"pointer",opacity:u?.7:1},children:u?"Loading...":r?"Sign In":"Sign Up"})]}),(0,s.jsxs)("p",{style:{textAlign:"center",marginTop:"1rem"},children:[r?"Don't have an account? ":"Already have an account? ",s.jsx("button",{type:"button",onClick:()=>o(!r),style:{background:"none",border:"none",color:"#007bff",cursor:"pointer",textDecoration:"underline"},children:r?"Sign up":"Sign in"})]}),x&&s.jsx("p",{style:{color:x.includes("error")||x.includes("Error")?"#dc3545":"#28a745",textAlign:"center",marginTop:"1rem"},children:x})]})}function a(){let{user:e,loading:t}=(0,o.a)(),r=(0,i.A)(),[a,c]=(0,n.useState)([]),[u,p]=(0,n.useState)(!0);return t?s.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:s.jsx("p",{children:"Loading..."})}):e?(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"2px solid #eee"},children:[s.jsx("h1",{style:{margin:0,color:"#333"},children:"Go Shop Black - Businesses"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,s.jsxs)("span",{style:{color:"#666"},children:["Welcome, ",e.email]}),s.jsx("button",{onClick:()=>r.auth.signOut(),style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Sign Out"})]})]}),s.jsx(d,{onCreated:e=>c(t=>[e,...t])}),(0,s.jsxs)("div",{style:{marginTop:"2rem"},children:[s.jsx("h2",{style:{marginBottom:"1rem",color:"#333"},children:"All Businesses"}),u?s.jsx("p",{style:{textAlign:"center",padding:"2rem"},children:"Loading businesses..."}):s.jsx("div",{style:{overflow:"auto",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white"},children:[s.jsx("thead",{style:{backgroundColor:"#f8f9fa"},children:(0,s.jsxs)("tr",{children:[s.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Name"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Category"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #ddd"},children:"City"}),s.jsx("th",{style:{padding:"1rem",textAlign:"left",borderBottom:"1px solid #ddd"},children:"Created"})]})}),s.jsx("tbody",{children:0===a.length?s.jsx("tr",{children:s.jsx("td",{colSpan:4,style:{padding:"2rem",textAlign:"center",color:"#666"},children:"No businesses found. Be the first to add one!"})}):a.map(e=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #eee"},children:[s.jsx("td",{style:{padding:"1rem",fontWeight:"500"},children:e.name}),s.jsx("td",{style:{padding:"1rem"},children:s.jsx("span",{style:{backgroundColor:"#e3f2fd",color:"#1976d2",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.875rem"},children:e.category})}),s.jsx("td",{style:{padding:"1rem",color:"#666"},children:e.city||"N/A"}),s.jsx("td",{style:{padding:"1rem",color:"#666",fontSize:"0.875rem"},children:new Date(e.created_at).toLocaleString()})]},e.id))})]})})]})]}):s.jsx(l,{onAuthSuccess:()=>window.location.reload()})}},2573:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(1812);let n=null;function i(){return n||(n=(0,s.eI)("https://tdpprnuypcwvuzbmpzxh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRkcHBybnV5cGN3dnV6Ym1wenhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4MTc2ODMsImV4cCI6MjA3NTM5MzY4M30.sYFFcbVKY6gKd2YqWFlcwrmSfV0VxpWZyqlGLMNWocs",{auth:{persistSession:!0,storageKey:"gsb-supabase-auth"}}))}},4001:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,a:()=>l});var s=r(326),n=r(7577),i=r(2573);let o=(0,n.createContext)(void 0);function d({children:e}){let[t,r]=(0,n.useState)(null),[d,l]=(0,n.useState)(!0),a=(0,i.A)(),c=async()=>{await a.auth.signOut()};return s.jsx(o.Provider,{value:{user:t,loading:d,signOut:c},children:e})}function l(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9510),n=r(8570);let i=(0,n.createProxy)(String.raw`D:\GSB_Supabase\src\contexts\AuthContext.tsx`),{__esModule:o,$$typeof:d}=i;i.default;let l=(0,n.createProxy)(String.raw`D:\GSB_Supabase\src\contexts\AuthContext.tsx#AuthProvider`);function a({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{style:{fontFamily:"system-ui, -apple-system, sans-serif",margin:0,padding:0,backgroundColor:"#f5f5f5",minHeight:"100vh"},children:s.jsx(l,{children:e})})})}(0,n.createProxy)(String.raw`D:\GSB_Supabase\src\contexts\AuthContext.tsx#useAuth`)},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>i,default:()=>d});var s=r(8570);let n=(0,s.createProxy)(String.raw`D:\GSB_Supabase\src\app\page.tsx`),{__esModule:i,$$typeof:o}=n;n.default;let d=(0,s.createProxy)(String.raw`D:\GSB_Supabase\src\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[358],()=>r(5839));module.exports=s})();